using System.Collections;
using System.Collections.Generic;
using UnityEngine;

//class for a gameboard (we use 3 total)
public class GameBoard
{
    public int[,] board;
    public GameBoard()
    {
        //instantiate to all 0s (meaning empty board)
        board = new int[,] { { 0, 0, 0 }, { 0, 0, 0 }, { 0, 0, 0 }, };
    }
    
    //fills board with 1 or 2 in the matrix X - 1, O - 2
    public void fillSpot( bool xTurn,int row, int col)
    {
        if (xTurn)
        {
            board[row, col] = 1;
        }
        else
        {
            board[row, col] = 2;
        }
    }

    //helper function to print
    public void printBoard()
    {
        for (int i = 0; i < 3; i++)
        {
            for (int j = 0; j < 3; j++)
            {
                Debug.Log(board[i,j] + " ");
            }
            Debug.Log("\n");
        }
    }

}
public class GameManager : MonoBehaviour
{
    // Start is called before the first frame update
    public bool xTurn;

    public GameBoard g1;
    public GameBoard g2;
    public GameBoard g3;
    void Start()
    {
        g1 = new GameBoard();
        g2 = new GameBoard();
        g3 = new GameBoard();
        xTurn = true;
    }
    //returns whos turn it is
    public bool getTurn()
    {
        return xTurn;
    }
    //changes the turn
    public void toggleTurn()
    {
        if (xTurn)
        {
            xTurn = false;
        }
        else
        {
            xTurn = true;
        }
    }

    public bool determineIfWinner()
    {
        int[,] b1 = g1.board;
        int[,] b2 = g2.board;
        int[,] b3 = g3.board;
        // we did this by hand btw so sry if we missed something
        //split up into multiple if statements so that it is easier to read
        if ((b1[0, 0] == b1[0, 1] && b1[0, 1] == b1[0, 2] && b1[0, 0] > 0 && b1[0, 1] > 0 && b1[0, 2] > 0)
            || (b1[1, 0] == b1[1, 1] && b1[1, 1] == b1[1, 2] && b1[1, 0] > 0 && b1[1, 1] > 0 && b1[1, 2] > 0)
            || (b1[2, 0] == b1[2, 1] && b1[2, 1] == b1[2, 2] && b1[2, 0] > 0 && b1[2, 1] > 0 && b1[2, 2] > 0)
            || (b1[0, 0] == b1[1, 0] && b1[1, 0] == b1[2, 0] && b1[0, 0] > 0 && b1[1, 0] > 0 && b1[2, 0] > 0)
            || (b1[0, 1] == b1[1, 1] && b1[1, 1] == b1[2, 1] && b1[0, 1] > 0 && b1[1, 1] > 0 && b1[2, 1] > 0)
            || (b1[0, 2] == b1[1, 2] && b1[1, 2] == b1[2, 2] && b1[0, 2] > 0 && b1[1, 2] > 0 && b1[2, 2] > 0)
            || (b1[0, 0] == b1[1, 1] && b1[1, 1] == b1[2, 2] && b1[0, 0] > 0 && b1[1, 1] > 0 && b1[2, 2] > 0)
            || (b1[0, 2] == b1[1, 1] && b1[1, 1] == b1[2, 0] && b1[0, 2] > 0 && b1[1, 1] > 0 && b1[2, 0] > 0))
        {
            return true;
        }
        if ((b2[0, 0] == b2[0, 1] && b2[0, 1] == b2[0, 2] && b2[0, 0] > 0 && b2[0, 1] > 0 && b2[0, 2] > 0)
            || (b2[1, 0] == b2[1, 1] && b2[1, 1] == b2[1, 2] && b2[1, 0] > 0 && b2[1, 1] > 0 && b2[1, 2] > 0)
            || (b2[2, 0] == b2[2, 1] && b2[2, 1] == b2[2, 2] && b2[2, 0] > 0 && b2[2, 1] > 0 && b2[2, 2] > 0)
            || (b2[0, 0] == b2[1, 0] && b2[1, 0] == b2[2, 0] && b2[0, 0] > 0 && b2[1, 0] > 0 && b2[2, 0] > 0)
            || (b2[0, 1] == b2[1, 1] && b2[1, 1] == b2[2, 1] && b2[0, 1] > 0 && b2[1, 1] > 0 && b2[2, 1] > 0)
            || (b2[0, 2] == b2[1, 2] && b2[1, 2] == b2[2, 2] && b2[0, 2] > 0 && b2[1, 2] > 0 && b2[2, 2] > 0)
            || (b2[0, 0] == b2[1, 1] && b2[1, 1] == b2[2, 2] && b2[0, 0] > 0 && b2[1, 1] > 0 && b2[2, 2] > 0)
            || (b2[0, 2] == b2[1, 1] && b2[1, 1] == b2[2, 0] && b2[0, 2] > 0 && b2[1, 1] > 0 && b2[2, 0] > 0))
        {
            return true;
        }
        if ((b3[0, 0] == b3[0, 1] && b3[0, 1] == b3[0, 2] && b3[0, 0] > 0 && b3[0, 1] > 0 && b3[0, 2] > 0)
            || (b3[1, 0] == b3[1, 1] && b3[1, 1] == b3[1, 2] && b3[1, 0] > 0 && b3[1, 1] > 0 && b3[1, 2] > 0)
            || (b3[2, 0] == b3[2, 1] && b3[2, 1] == b3[2, 2] && b3[2, 0] > 0 && b3[2, 1] > 0 && b3[2, 2] > 0)
            || (b3[0, 0] == b3[1, 0] && b3[1, 0] == b3[2, 0] && b3[0, 0] > 0 && b3[1, 0] > 0 && b3[2, 0] > 0)
            || (b3[0, 1] == b3[1, 1] && b3[1, 1] == b3[2, 1] && b3[0, 1] > 0 && b3[1, 1] > 0 && b3[2, 1] > 0)
            || (b3[0, 2] == b3[1, 2] && b3[1, 2] == b3[2, 2] && b3[0, 2] > 0 && b3[1, 2] > 0 && b3[2, 2] > 0)
            || (b3[0, 0] == b3[1, 1] && b3[1, 1] == b3[2, 2] && b3[0, 0] > 0 && b3[1, 1] > 0 && b3[2, 2] > 0)
            || (b3[0, 2] == b3[1, 1] && b3[1, 1] == b3[2, 0] && b3[0, 2] > 0 && b3[1, 1] > 0 && b3[2, 0] > 0))
        {
            return true;
        }
        if ((b1[0, 0] == b2[0, 0] && b2[0, 0] == b3[0, 0] && b1[0, 0] > 0 && b2[0, 0] > 0 && b3[0, 0] > 0)
                 || (b1[0, 1] == b2[0, 1] && b2[0, 1] == b3[0, 1] && b1[0, 1] > 0 && b2[0, 1] > 0 && b3[0, 1] > 0)
                 || (b1[0, 2] == b2[0, 2] && b2[0, 2] == b3[0, 2] && b1[0, 2] > 0 && b2[0, 2] > 0 && b3[0, 2] > 0)
                 || (b1[1, 0] == b2[1, 0] && b2[1, 0] == b3[1, 0] && b1[1, 0] > 0 && b2[1, 0] > 0 && b3[1, 0] > 0)
                 || (b1[1, 1] == b2[1, 1] && b2[1, 1] == b3[1, 1] && b1[1, 1] > 0 && b2[1, 1] > 0 && b3[1, 1] > 0)
                 || (b1[1, 2] == b2[1, 2] && b2[1, 2] == b3[1, 2] && b1[1, 2] > 0 && b2[1, 2] > 0 && b3[1, 2] > 0)
                 || (b1[2, 0] == b2[2, 0] && b2[2, 0] == b3[2, 0] && b1[2, 0] > 0 && b2[2, 0] > 0 && b3[2, 0] > 0)
                 || (b1[2, 1] == b2[2, 1] && b2[2, 1] == b3[2, 1] && b1[2, 1] > 0 && b2[2, 1] > 0 && b3[2, 1] > 0)
                 || (b1[2, 2] == b2[2, 2] && b2[2, 2] == b3[2, 2] && b1[2, 2] > 0 && b2[2, 2] > 0 && b3[2, 2] > 0))
        {
            return true;
        }
        if ((b1[0, 0] == b2[0, 1] && b2[0, 1] == b3[0, 2] && b1[0, 0] > 0 && b2[0, 1] > 0 && b3[0, 2] > 0)
                 || (b1[1, 0] == b2[1, 1] && b2[1, 1] == b3[1, 2] && b1[1, 0] > 0 && b2[1, 1] > 0 && b3[1, 2] > 0)
                 || (b1[2, 0] == b2[2, 1] && b2[2, 1] == b3[2, 2] && b1[2, 0] > 0 && b2[2, 1] > 0 && b3[2, 2] > 0)
                 || (b1[0, 0] == b2[1, 0] && b2[1, 0] == b3[2, 0] && b1[0, 0] > 0 && b2[1, 0] > 0 && b3[2, 0] > 0)
                 || (b1[0, 1] == b2[1, 1] && b2[1, 1] == b3[2, 1] && b1[0, 1] > 0 && b2[1, 1] > 0 && b3[2, 1] > 0)
                 || (b1[0, 2] == b2[1, 2] && b2[1, 2] == b3[2, 2] && b1[0, 2] > 0 && b2[1, 2] > 0 && b3[2, 2] > 0)
                 
                 ||(b1[0, 2] == b2[0, 1] && b2[0, 1] == b3[0, 0] && b1[0, 2] > 0 && b2[0, 1] > 0 && b3[0, 0] > 0)
                 || (b1[1, 2] == b2[1, 1] && b2[1, 1] == b3[1, 0] && b1[1, 2] > 0 && b2[1, 1] > 0 && b3[1, 0] > 0)
                 || (b1[2, 2] == b2[2, 1] && b2[2, 1] == b3[2, 0] && b1[2, 2] > 0 && b2[2, 1] > 0 && b3[2, 0] > 0)
                 || (b1[2, 0] == b2[1, 0] && b2[1, 0] == b3[0, 0] && b1[2, 0] > 0 && b2[1, 0] > 0 && b3[0, 0] > 0)
                 || (b1[2, 1] == b2[1, 1] && b2[1, 1] == b3[0, 1] && b1[2, 1] > 0 && b2[1, 1] > 0 && b3[0, 1] > 0)
                 || (b1[2, 2] == b2[1, 2] && b2[1, 2] == b3[0, 2] && b1[2, 2] > 0 && b2[1, 2] > 0 && b3[0, 2] > 0)
                 
                 || (b1[0, 0] == b2[1, 1] && b2[1, 1] == b3[2, 2] && b1[0, 0] > 0 && b2[1, 1] > 0 && b3[2, 2] > 0)
                 || (b1[2, 2] == b2[1, 1] && b2[1, 1] == b3[0, 0] && b1[2, 2] > 0 && b2[1, 1] > 0 && b3[0, 0] > 0)
                 
                 || (b1[0, 2] == b2[1, 1] && b2[1, 1] == b3[2, 0] && b1[0, 2] > 0 && b2[1, 1] > 0 && b3[2, 0] > 0)
                 || (b1[2, 0] == b2[1, 1] && b2[1, 1] == b3[0, 2] && b1[2, 0] > 0 && b2[1, 1] > 0 && b3[0, 2] > 0))
        {
            return true;
        }

        return false;

    }
}
